<div class="flex pb-20 space-x-40">
  <%- include("../../partials/organisms/ProfileSidebar.ejs") %>

  <div class="w-full max-w-3xl bg-white rounded-lg shadow-lg p-6 space-y-6">
    <div class="flex items-center justify-between">
      <h1 class="text-3xl font-bold">Edit Profile</h1>
    </div>

    <div
        id="error-box"
        class="p-4 mb-4 hidden text-sm text-red-800 rounded-lg bg-red-50 dark:text-red-400"
      >
    </div>
    <form 
      action="/account/my-details/<%= user._id %>" 
      method="POST" 
      id="profile-edit-form"
      class="grid grid-cols-1 md:grid-cols-2 gap-8"
    >
      <!-- Full Name -->
      <div class="space-y-4">
        <div>
          <label class="text-sm text-gray-500">Full Name</label>
          <input 
            type="text" 
            name="name" 
            value="<%= user.name || '' %>"
            class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring focus:ring-gray-300"
          />
        </div>

        <!-- Gender -->
        <div>
          <label class="text-sm text-gray-500">Gender</label>
          <select 
            name="gender"
            class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring focus:ring-gray-300"
          >
            <option value="" disabled <%= !user.gender ? 'selected' : '' %>>Select gender</option>
            <option value="Male" <%= user.gender === 'Male' ? 'selected' : '' %>>Male</option>
            <option value="Female" <%= user.gender === 'Female' ? 'selected' : '' %>>Female</option>
            <option value="Other" <%= user.gender === 'Other' ? 'selected' : '' %>>Other</option>
          </select>
        </div>
      </div>

      <div class="space-y-4">
        <!-- Phone Number -->
        <div>
          <label class="text-sm text-gray-500">Phone No</label>
          <input 
            type="text" 
            name="number" 
            value="<%= user.number || '' %>"
            class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring focus:ring-gray-300"
          />
        </div>

        <!-- Email -->
        <div>
          <label class="text-sm text-gray-500">Email</label>
          <input 
            type="email" 
            name="email" 
            value="<%= user.email || '' %>"
            class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring focus:ring-gray-300"
          />
        </div>
      </div>

      <!-- Save and Cancel Buttons -->
      <div class="col-span-2 flex gap-4">
        <!-- Save Button -->
        <button 
          type="submit" 
          class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition"
        >
          Save Changes
        </button>

        <!-- Cancel Button -->
        <a 
          href="/account/my-details"
          class="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition"
        >
          Cancel
        </a>
      </div>
    </form>
  </div>
</div>  

<script src="/javascript/ajax/user/profile.js"></script>